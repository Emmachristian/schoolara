{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Schoolara</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.png' %}" rel="icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="{% static 'vendors/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/ionicons-npm/css/ionicons.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/linearicons-master/dist/web-font/style.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/pixeden-stroke-7-icon-master/pe-icon-7-stroke/dist/pe-icon-7-stroke.css' %}" rel="stylesheet">

    <!-- CSS for CropperJS, SweetAlert2, MagnifiPopup -->
    <link href="{% static 'vendors/cropperjs/dist/cropper.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/sweetalert2/dist/sweetalert2.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/magnific-popup/magnific-popup.css' %}" rel="stylesheet">

    <!-- Template main CSS File -->
    <link href="{% static 'css/base.css' %}" rel="stylesheet">

    <!-- Page-specific extra CSS -->
    {% block extra_css %}{% endblock %}
</head>

<!-- Apply saved theme preferences to body tag -->
<body class="app {% if fixed_header %}fixed-header{% endif %} {% if fixed_sidebar %}fixed-sidebar{% endif %} {% if fixed_footer %}fixed-footer{% endif %} {{ page_tabs_style|default:'body-tabs-shadow' }} {{ theme_color|default:'app-theme-white' }}">
    
    <!-- App Container -->
    <div class="app-container app-theme-white">

        <!-- Header Section with saved color scheme -->
        <div class="app-header header-shadow {{ header_class }}">
            {% include 'partials/header.html' %}
        </div>

        <!-- Theme Settings Panel -->
        {% include 'partials/theme_settings.html' %}

        <div class="app-main">

            <!-- Sidebar Navigation with saved color scheme -->
            <div class="app-sidebar sidebar-shadow {{ sidebar_class }}">
                {% include 'partials/sidebar.html' %}
            </div>

            <div class="app-main__outer">
                <div class="app-main__inner">
                    
                    <!-- Main Content Area -->
                    {% block content %}{% endblock %}
                    
                </div>

                <!-- Footer Section -->
                {% include 'partials/footer.html' %}

            </div> <!-- End of app-main__outer -->

        </div> <!-- End of app-main -->

        <!-- Drawer Panel -->
        {% include 'partials/drawer.html' %}

    </div>
    <!-- End of App Container -->

    <!-- Load jQuery first to avoid conflicts -->
    <script type="text/javascript" src="{% static 'vendors/jquery/dist/jquery.min.js' %}"></script>

    <!-- HTMX -->
    <script type="text/javascript" src="{% static 'js/htmx.min.js' %}"></script>

    <!-- Alpine.js -->
    <script defer src="{% static 'js/alpine.min.js' %}"></script>

    <!-- Plugin dependencies -->
    <script type="text/javascript" src="{% static 'vendors/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/moment/moment.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/metismenu/dist/metisMenu.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/bootstrap4-toggle/js/bootstrap4-toggle.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/jquery-circle-progress/dist/circle-progress.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/perfect-scrollbar/dist/perfect-scrollbar.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/toastr/build/toastr.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/jquery.fancytree/dist/jquery.fancytree-all-deps.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendors/apexcharts/dist/apexcharts.min.js' %}"></script>
    
    <!-- Custom JS -->
    <script type="text/javascript" src="{% static 'js/charts/apex-charts.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/circle-progress.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/demo.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/scrollbar.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/toastr.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/treeview.js' %}"></script>


    <!-- Template navigation JS File -->
    <script src="{% static 'js/sidebar-nav.js' %}"></script>

    <!-- Template main JS File -->
    <script type="text/javascript" src="{% static 'js/app.js' %}"></script>

    <!-- Pass Django context to JavaScript -->
    <script>
        window.THEME_CONFIG = {
            headerClass: "{{ header_class|default:'' }}",
            sidebarClass: "{{ sidebar_class|default:'' }}",
            pageTabsStyle: "{{ page_tabs_style|default:'body-tabs-shadow' }}",
            themeColor: "{{ theme_color|default:'app-theme-white' }}"
        };
    </script>
    
    <!-- Theme Settings Management -->
    <script src="{% static 'js/theme-settings.js' %}"></script>

    {% block extra_scripts %}{% endblock %}
</body>
</html>