# Generated by Django 5.2 on 2025-12-30 10:47

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import django_countries.fields
import uuid
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("academics", "0002_initial"),
        ("core", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="Contract",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "contract_number",
                    models.CharField(
                        db_index=True,
                        max_length=50,
                        unique=True,
                        verbose_name="Contract Number",
                    ),
                ),
                (
                    "contract_type",
                    models.CharField(
                        choices=[
                            ("PERMANENT", "Permanent Contract"),
                            ("FIXED_TERM", "Fixed Term Contract"),
                            ("PROBATION", "Probationary Contract"),
                            ("TEMPORARY", "Temporary Contract"),
                            ("PART_TIME", "Part-Time Contract"),
                            ("CASUAL", "Casual Contract"),
                            ("INTERNSHIP", "Internship Contract"),
                            ("VOLUNTEER", "Volunteer Agreement"),
                            ("CONSULTANT", "Consultancy Contract"),
                            ("SEASONAL", "Seasonal Contract"),
                            ("PROJECT_BASED", "Project-Based Contract"),
                            ("APPRENTICESHIP", "Apprenticeship Contract"),
                        ],
                        db_index=True,
                        default="FIXED_TERM",
                        max_length=20,
                        verbose_name="Contract Type",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("REVIEW", "Under Review"),
                            ("APPROVED", "Approved"),
                            ("SIGNED", "Signed"),
                            ("ACTIVE", "Active"),
                            ("EXPIRED", "Expired"),
                            ("TERMINATED", "Terminated"),
                            ("CANCELLED", "Cancelled"),
                            ("RENEWED", "Renewed"),
                        ],
                        db_index=True,
                        default="DRAFT",
                        max_length=12,
                        verbose_name="Status",
                    ),
                ),
                (
                    "start_date",
                    models.DateField(db_index=True, verbose_name="Contract Start Date"),
                ),
                (
                    "end_date",
                    models.DateField(
                        blank=True,
                        db_index=True,
                        null=True,
                        verbose_name="Contract End Date",
                    ),
                ),
                (
                    "signed_date",
                    models.DateField(blank=True, null=True, verbose_name="Date Signed"),
                ),
                (
                    "renewal_due_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Renewal Due Date"
                    ),
                ),
                (
                    "termination_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Termination Date"
                    ),
                ),
                (
                    "termination_reason",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("COMPLETION", "Contract Completion"),
                            ("RESIGNATION", "Staff Resignation"),
                            ("TERMINATION", "Employer Termination"),
                            ("MUTUAL", "Mutual Agreement"),
                            ("BREACH", "Contract Breach"),
                            ("REDUNDANCY", "Redundancy"),
                            ("RETIREMENT", "Retirement"),
                            ("OTHER", "Other"),
                        ],
                        max_length=15,
                        verbose_name="Termination Reason",
                    ),
                ),
                (
                    "termination_notice_period_days",
                    models.PositiveIntegerField(
                        default=30, verbose_name="Notice Period (Days)"
                    ),
                ),
                (
                    "termination_notes",
                    models.TextField(blank=True, verbose_name="Termination Notes"),
                ),
                (
                    "basic_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Basic salary amount - interpreted based on salary_frequency",
                        max_digits=10,
                        verbose_name="Basic Salary",
                    ),
                ),
                (
                    "salary_frequency",
                    models.CharField(
                        choices=[
                            ("MONTHLY", "Monthly"),
                            ("WEEKLY", "Weekly"),
                            ("DAILY", "Daily"),
                            ("HOURLY", "Hourly"),
                            ("ANNUAL", "Annual"),
                        ],
                        default="MONTHLY",
                        help_text="How often this salary amount is paid",
                        max_length=10,
                        verbose_name="Salary Frequency",
                    ),
                ),
                (
                    "working_hours_per_week",
                    models.PositiveIntegerField(
                        default=40,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(168),
                        ],
                        verbose_name="Working Hours Per Week",
                    ),
                ),
                (
                    "probation_period_months",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of months for probation period (0 if no probation)",
                        verbose_name="Probation Period (Months)",
                    ),
                ),
                (
                    "annual_leave_days",
                    models.PositiveIntegerField(
                        default=21, verbose_name="Annual Leave Days"
                    ),
                ),
                (
                    "job_title",
                    models.CharField(max_length=100, verbose_name="Job Title"),
                ),
                (
                    "job_description",
                    models.TextField(blank=True, verbose_name="Job Description"),
                ),
                (
                    "reporting_to_id",
                    models.CharField(
                        blank=True,
                        help_text="Staff ID of direct supervisor",
                        max_length=50,
                        null=True,
                        verbose_name="Reports To Staff ID",
                    ),
                ),
                (
                    "contract_document",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="contracts/documents/",
                        verbose_name="Contract Document",
                    ),
                ),
                (
                    "auto_renew",
                    models.BooleanField(
                        default=False,
                        help_text="Automatically renew contract when it expires",
                        verbose_name="Auto Renew",
                    ),
                ),
                (
                    "renewal_period_months",
                    models.PositiveIntegerField(
                        default=12,
                        help_text="Duration of each renewal period",
                        verbose_name="Renewal Period (Months)",
                    ),
                ),
                (
                    "requires_renewal_approval",
                    models.BooleanField(
                        default=True,
                        help_text="Whether renewal requires approval",
                        verbose_name="Requires Renewal Approval",
                    ),
                ),
                (
                    "approved_by_id",
                    models.CharField(
                        blank=True,
                        help_text="User ID who approved this contract",
                        max_length=100,
                        null=True,
                        verbose_name="Approved By ID",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approval Date"
                    ),
                ),
                (
                    "signed_by_id",
                    models.CharField(
                        blank=True,
                        help_text="User ID who signed this contract",
                        max_length=100,
                        null=True,
                        verbose_name="Signed By ID",
                    ),
                ),
                (
                    "signed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Signed At"
                    ),
                ),
                (
                    "terminated_by_id",
                    models.CharField(
                        blank=True,
                        help_text="User ID who terminated this contract",
                        max_length=100,
                        null=True,
                        verbose_name="Terminated By ID",
                    ),
                ),
                (
                    "terminated_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Terminated At"
                    ),
                ),
                (
                    "benefits_package",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="JSON structure for contract benefits (health insurance, housing, etc.)",
                        verbose_name="Benefits Package",
                    ),
                ),
                (
                    "special_terms",
                    models.TextField(
                        blank=True,
                        help_text="Any special terms or conditions for this contract",
                        verbose_name="Special Terms & Conditions",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Contract Notes")),
            ],
            options={
                "verbose_name": "Contract",
                "verbose_name_plural": "Contracts",
                "ordering": ["-start_date", "staff"],
            },
        ),
        migrations.CreateModel(
            name="Department",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Department Name"),
                ),
                (
                    "code",
                    models.CharField(
                        db_index=True,
                        max_length=10,
                        unique=True,
                        verbose_name="Department Code",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "department_type",
                    models.CharField(
                        choices=[
                            ("ACADEMIC", "Academic Department"),
                            ("ADMINISTRATIVE", "Administrative Department"),
                            ("SUPPORT", "Support Services"),
                            ("TECHNICAL", "Technical Department"),
                            ("HEALTH", "Health Services"),
                            ("SECURITY", "Security Department"),
                            ("MAINTENANCE", "Maintenance & Facilities"),
                            ("FINANCE", "Finance & Accounting"),
                            ("HR", "Human Resources"),
                            ("IT", "Information Technology"),
                            ("LIBRARY", "Library Services"),
                            ("TRANSPORT", "Transport Department"),
                            ("CATERING", "Catering Services"),
                            ("SPORTS", "Sports & Recreation"),
                            ("RESEARCH", "Research & Development"),
                            ("PROCUREMENT", "Procurement"),
                            ("LEGAL", "Legal Affairs"),
                            ("MARKETING", "Marketing & Communications"),
                            ("STUDENT_AFFAIRS", "Student Affairs"),
                            ("QUALITY_ASSURANCE", "Quality Assurance"),
                            ("OTHER", "Other"),
                        ],
                        db_index=True,
                        default="ACADEMIC",
                        max_length=20,
                        verbose_name="Department Type",
                    ),
                ),
                (
                    "academic_subtype",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("MATHEMATICS", "Mathematics"),
                            ("SCIENCE", "Science"),
                            ("ENGLISH", "English Language"),
                            ("SOCIAL_STUDIES", "Social Studies"),
                            ("LANGUAGES", "Foreign Languages"),
                            ("ARTS", "Creative Arts"),
                            ("PHYSICAL_EDUCATION", "Physical Education"),
                            ("RELIGIOUS_STUDIES", "Religious Studies"),
                            ("COMPUTER_SCIENCE", "Computer Science"),
                            ("BUSINESS_STUDIES", "Business Studies"),
                            ("VOCATIONAL", "Vocational Education"),
                            ("SPECIAL_NEEDS", "Special Needs Education"),
                        ],
                        max_length=20,
                        null=True,
                        verbose_name="Academic Subject Area",
                    ),
                ),
                (
                    "is_academic",
                    models.BooleanField(default=True, verbose_name="Is Academic"),
                ),
                (
                    "annual_budget",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=12,
                        null=True,
                        verbose_name="Annual Budget",
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        blank=True, max_length=20, verbose_name="Department Phone"
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True, max_length=254, verbose_name="Department Email"
                    ),
                ),
                (
                    "head_id",
                    models.CharField(
                        blank=True,
                        help_text="Staff ID who heads this department",
                        max_length=50,
                        null=True,
                        verbose_name="Department Head ID",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Is Active"
                    ),
                ),
                (
                    "capacity",
                    models.PositiveIntegerField(
                        blank=True, null=True, verbose_name="Staff Capacity"
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Location/Building"
                    ),
                ),
                (
                    "operating_hours",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Operating Hours"
                    ),
                ),
                (
                    "parent_department",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="sub_departments",
                        to="hr.department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Department",
                "verbose_name_plural": "Departments",
                "ordering": ["department_type", "name"],
            },
        ),
        migrations.CreateModel(
            name="Designation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Designation Name"),
                ),
                (
                    "code",
                    models.CharField(
                        db_index=True,
                        max_length=50,
                        unique=True,
                        verbose_name="Designation Code",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "is_teaching",
                    models.BooleanField(default=False, verbose_name="Is Teaching"),
                ),
                (
                    "is_management",
                    models.BooleanField(
                        default=False, verbose_name="Is Management Position"
                    ),
                ),
                (
                    "rank_order",
                    models.PositiveIntegerField(
                        db_index=True, default=0, verbose_name="Rank Order"
                    ),
                ),
                (
                    "min_salary",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Reference minimum salary for this designation",
                        max_digits=10,
                        null=True,
                        verbose_name="Minimum Salary (Reference)",
                    ),
                ),
                (
                    "max_salary",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Reference maximum salary for this designation",
                        max_digits=10,
                        null=True,
                        verbose_name="Maximum Salary (Reference)",
                    ),
                ),
                (
                    "required_qualifications",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Required Qualifications"
                    ),
                ),
                (
                    "key_responsibilities",
                    models.TextField(blank=True, verbose_name="Key Responsibilities"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Is Active"
                    ),
                ),
                (
                    "department",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="designations",
                        to="hr.department",
                    ),
                ),
                (
                    "reports_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="subordinate_designations",
                        to="hr.designation",
                    ),
                ),
            ],
            options={
                "verbose_name": "Designation",
                "verbose_name_plural": "Designations",
                "ordering": ["rank_order", "name"],
            },
        ),
        migrations.CreateModel(
            name="Payroll",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "payment_date",
                    models.DateField(db_index=True, verbose_name="Payment Date"),
                ),
                (
                    "basic_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=15,
                        verbose_name="Basic Salary",
                    ),
                ),
                (
                    "gross_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=15,
                        verbose_name="Gross Pay",
                    ),
                ),
                (
                    "total_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=15,
                        verbose_name="Total Deductions",
                    ),
                ),
                (
                    "net_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=15,
                        verbose_name="Net Pay",
                    ),
                ),
                (
                    "bank_account",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Bank Account"
                    ),
                ),
                (
                    "payment_reference",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Payment Reference"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("APPROVED", "Approved"),
                            ("PAID", "Paid"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        db_index=True,
                        default="DRAFT",
                        max_length=10,
                        verbose_name="Status",
                    ),
                ),
                (
                    "approved_by_id",
                    models.CharField(
                        blank=True,
                        max_length=50,
                        null=True,
                        verbose_name="Approved By ID",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "fiscal_year",
                    models.ForeignKey(
                        blank=True,
                        help_text="Fiscal year (auto-populated from period)",
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="staff_payrolls",
                        to="core.fiscalyear",
                    ),
                ),
                (
                    "payment_method",
                    models.ForeignKey(
                        help_text="How the staff will be paid",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="staff_payrolls",
                        to="core.paymentmethod",
                    ),
                ),
                (
                    "period",
                    models.ForeignKey(
                        help_text="Payroll period",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="staff_payrolls",
                        to="core.fiscalperiod",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll",
                "verbose_name_plural": "Payrolls",
                "ordering": ["-payment_date", "staff"],
            },
        ),
        migrations.CreateModel(
            name="PayrollAllowance",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "allowance_type",
                    models.CharField(
                        choices=[
                            ("HOUSING", "Housing Allowance"),
                            ("TRANSPORT", "Transport Allowance"),
                            ("MEAL", "Meal Allowance"),
                            ("MEDICAL", "Medical Allowance"),
                            ("EDUCATION", "Education Allowance"),
                            ("PHONE", "Phone/Internet Allowance"),
                            ("UNIFORM", "Uniform Allowance"),
                            ("OTHER", "Other Allowance"),
                        ],
                        db_index=True,
                        max_length=15,
                        verbose_name="Allowance Type",
                    ),
                ),
                (
                    "description",
                    models.CharField(max_length=100, verbose_name="Description"),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=15, verbose_name="Amount"
                    ),
                ),
                (
                    "is_taxable",
                    models.BooleanField(default=True, verbose_name="Is Taxable"),
                ),
                (
                    "payroll",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="allowances",
                        to="hr.payroll",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Allowance",
                "verbose_name_plural": "Payroll Allowances",
                "ordering": ["allowance_type"],
            },
        ),
        migrations.CreateModel(
            name="PayrollBonus",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "bonus_type",
                    models.CharField(
                        choices=[
                            ("OVERTIME", "Overtime Pay"),
                            ("PERFORMANCE", "Performance Bonus"),
                            ("COMMISSION", "Sales Commission"),
                            ("ANNUAL", "Annual Bonus"),
                            ("HOLIDAY", "Holiday Bonus"),
                            ("INCENTIVE", "Incentive Pay"),
                            ("OTHER", "Other Bonus"),
                        ],
                        db_index=True,
                        max_length=15,
                        verbose_name="Bonus Type",
                    ),
                ),
                (
                    "description",
                    models.CharField(max_length=100, verbose_name="Description"),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=15, verbose_name="Amount"
                    ),
                ),
                (
                    "is_taxable",
                    models.BooleanField(default=True, verbose_name="Is Taxable"),
                ),
                (
                    "payroll",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="bonuses",
                        to="hr.payroll",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Bonus",
                "verbose_name_plural": "Payroll Bonuses",
                "ordering": ["bonus_type"],
            },
        ),
        migrations.CreateModel(
            name="PayrollDeduction",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "deduction_type",
                    models.CharField(
                        choices=[
                            ("TAX", "Tax Deduction"),
                            ("PENSION", "Pension Contribution"),
                            ("INSURANCE", "Insurance Premium"),
                            ("LOAN", "Loan Repayment"),
                            ("ADVANCE", "Salary Advance"),
                            ("SOCIAL_SECURITY", "Social Security"),
                            ("HEALTHCARE", "Healthcare Contribution"),
                            ("OTHER", "Other Deduction"),
                        ],
                        db_index=True,
                        max_length=15,
                        verbose_name="Deduction Type",
                    ),
                ),
                (
                    "description",
                    models.CharField(max_length=100, verbose_name="Description"),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=15, verbose_name="Amount"
                    ),
                ),
                (
                    "is_pretax",
                    models.BooleanField(default=False, verbose_name="Is Pre-Tax"),
                ),
                (
                    "reference_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Reference Number"
                    ),
                ),
                (
                    "payroll",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="deductions",
                        to="hr.payroll",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Deduction",
                "verbose_name_plural": "Payroll Deductions",
                "ordering": ["deduction_type"],
            },
        ),
        migrations.CreateModel(
            name="Staff",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "salutation",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("MR", "Mr."),
                            ("MS", "Ms."),
                            ("MRS", "Mrs."),
                            ("DR", "Dr."),
                            ("PROF", "Prof."),
                            ("REV", "Rev."),
                            ("HON", "Hon."),
                            ("SIR", "Sir"),
                            ("MADAM", "Madam"),
                            ("MISS", "Miss"),
                            ("MASTER", "Master"),
                        ],
                        max_length=10,
                        verbose_name="Salutation",
                    ),
                ),
                (
                    "first_name",
                    models.CharField(
                        db_index=True, max_length=50, verbose_name="First Name"
                    ),
                ),
                (
                    "middle_name",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        max_length=50,
                        verbose_name="Middle Name",
                    ),
                ),
                (
                    "last_name",
                    models.CharField(
                        db_index=True, max_length=50, verbose_name="Last Name"
                    ),
                ),
                (
                    "staff_id",
                    models.CharField(
                        db_index=True,
                        help_text="Format: YY/SCHOOL/[DEPT/]TYPE-NNN",
                        max_length=30,
                        unique=True,
                        verbose_name="Staff ID",
                    ),
                ),
                (
                    "date_of_birth",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date of Birth"
                    ),
                ),
                (
                    "gender",
                    models.CharField(
                        blank=True,
                        choices=[("M", "Male"), ("F", "Female")],
                        db_index=True,
                        max_length=1,
                        verbose_name="Gender",
                    ),
                ),
                (
                    "ethnicity",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Ethnicity"
                    ),
                ),
                (
                    "religious_affiliation",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Catholic", "Catholic"),
                            ("Protestant", "Protestant"),
                            ("Anglican", "Anglican"),
                            ("Baptist", "Baptist"),
                            ("Pentecostal", "Pentecostal"),
                            ("Evangelical", "Evangelical"),
                            ("Adventist", "Adventist"),
                            ("Islam", "Islam"),
                            ("Hindu", "Hindu"),
                            ("Buddhist", "Buddhist"),
                            ("Jewish", "Jewish"),
                            ("Traditional", "Traditional"),
                            ("None", "No Religion"),
                            ("Other", "Other"),
                        ],
                        max_length=20,
                        verbose_name="Religious Affiliation",
                    ),
                ),
                (
                    "marital_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("S", "Single"),
                            ("M", "Married"),
                            ("D", "Divorced"),
                            ("W", "Widowed"),
                            ("O", "Other"),
                        ],
                        max_length=1,
                        verbose_name="Marital Status",
                    ),
                ),
                (
                    "nationality",
                    django_countries.fields.CountryField(
                        default="UG", max_length=2, verbose_name="Nationality"
                    ),
                ),
                (
                    "national_id",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="National ID"
                    ),
                ),
                (
                    "passport_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Passport Number"
                    ),
                ),
                (
                    "photo",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to="staff/photos",
                        verbose_name="Profile Picture",
                    ),
                ),
                (
                    "phone_number",
                    models.CharField(
                        blank=True,
                        max_length=17,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.",
                                regex="^\\+?1?\\d{9,15}$",
                            )
                        ],
                        verbose_name="Phone Number",
                    ),
                ),
                (
                    "alternative_phone",
                    models.CharField(
                        blank=True,
                        max_length=17,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.",
                                regex="^\\+?1?\\d{9,15}$",
                            )
                        ],
                        verbose_name="Alternative Phone",
                    ),
                ),
                (
                    "personal_email",
                    models.EmailField(
                        blank=True, max_length=100, verbose_name="Personal Email"
                    ),
                ),
                (
                    "emergency_contact_name",
                    models.CharField(
                        blank=True,
                        max_length=100,
                        verbose_name="Emergency Contact Name",
                    ),
                ),
                (
                    "emergency_contact_relationship",
                    models.CharField(
                        blank=True,
                        max_length=20,
                        verbose_name="Emergency Contact Relationship",
                    ),
                ),
                (
                    "emergency_contact_phone",
                    models.CharField(
                        blank=True,
                        max_length=17,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.",
                                regex="^\\+?1?\\d{9,15}$",
                            )
                        ],
                        verbose_name="Emergency Contact Phone",
                    ),
                ),
                (
                    "emergency_contact_address",
                    models.TextField(
                        blank=True, verbose_name="Emergency Contact Address"
                    ),
                ),
                (
                    "employment_status",
                    models.CharField(
                        choices=[
                            ("FT", "Full-Time"),
                            ("PT", "Part-Time"),
                            ("CT", "Contract"),
                            ("PR", "Probation"),
                            ("IN", "Intern"),
                            ("VO", "Volunteer"),
                            ("RT", "Retired"),
                            ("TR", "Terminated"),
                            ("RS", "Resigned"),
                        ],
                        db_index=True,
                        default="FT",
                        max_length=2,
                        verbose_name="Employment Status",
                    ),
                ),
                (
                    "date_of_joining",
                    models.DateField(db_index=True, verbose_name="Date of Joining"),
                ),
                (
                    "date_of_leaving",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date of Leaving"
                    ),
                ),
                (
                    "qualification",
                    models.TextField(
                        blank=True, verbose_name="Educational Qualifications"
                    ),
                ),
                (
                    "experience",
                    models.TextField(blank=True, verbose_name="Work Experience"),
                ),
                ("skills", models.TextField(blank=True, verbose_name="Skills")),
                (
                    "languages_spoken",
                    models.TextField(blank=True, verbose_name="Languages Spoken"),
                ),
                (
                    "professional_memberships",
                    models.TextField(
                        blank=True, verbose_name="Professional Memberships"
                    ),
                ),
                (
                    "certifications",
                    models.TextField(blank=True, verbose_name="Certifications"),
                ),
                (
                    "bank_account_name",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Bank Account Name"
                    ),
                ),
                (
                    "bank_account_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Bank Account Number"
                    ),
                ),
                (
                    "bank_name",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Bank Name"
                    ),
                ),
                (
                    "bank_branch",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Bank Branch"
                    ),
                ),
                (
                    "tax_identification_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Tax ID Number"
                    ),
                ),
                (
                    "social_security_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Social Security Number"
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Is Active"
                    ),
                ),
                (
                    "primary_department",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="primary_staff",
                        to="hr.department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Staff",
                "verbose_name_plural": "Staff",
                "ordering": ["first_name", "last_name"],
            },
        ),
        migrations.CreateModel(
            name="SalaryHistory",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "effective_date",
                    models.DateField(db_index=True, verbose_name="Effective Date"),
                ),
                (
                    "previous_salary",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=15,
                        null=True,
                        verbose_name="Previous Salary",
                    ),
                ),
                (
                    "new_salary",
                    models.DecimalField(
                        decimal_places=2, max_digits=15, verbose_name="New Salary"
                    ),
                ),
                (
                    "change_type",
                    models.CharField(
                        choices=[
                            ("INITIAL", "Initial Salary"),
                            ("INCREMENT", "Salary Increment"),
                            ("PROMOTION", "Promotion"),
                            ("ADJUSTMENT", "Adjustment"),
                            ("DEMOTION", "Demotion"),
                            ("CORRECTION", "Correction"),
                        ],
                        db_index=True,
                        max_length=15,
                        verbose_name="Change Type",
                    ),
                ),
                (
                    "change_percentage",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        verbose_name="Change Percentage",
                    ),
                ),
                ("reason", models.TextField(verbose_name="Reason")),
                (
                    "approved_by_id",
                    models.CharField(
                        blank=True,
                        max_length=50,
                        null=True,
                        verbose_name="Approved By ID",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "reference_document",
                    models.FileField(
                        blank=True,
                        upload_to="hr/salary_changes/",
                        verbose_name="Reference Document",
                    ),
                ),
                (
                    "contract",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="salary_changes",
                        to="hr.contract",
                    ),
                ),
                (
                    "effective_period",
                    models.ForeignKey(
                        help_text="Period when change becomes effective",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="salary_changes",
                        to="core.fiscalperiod",
                    ),
                ),
                (
                    "staff",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="salary_history",
                        to="hr.staff",
                    ),
                ),
            ],
            options={
                "verbose_name": "Salary History",
                "verbose_name_plural": "Salary Histories",
                "ordering": ["-effective_date"],
            },
        ),
        migrations.AddField(
            model_name="payroll",
            name="staff",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="payrolls",
                to="hr.staff",
            ),
        ),
        migrations.AddField(
            model_name="contract",
            name="staff",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="contracts",
                to="hr.staff",
            ),
        ),
        migrations.CreateModel(
            name="Attendance",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                ("date", models.DateField(db_index=True, verbose_name="Date")),
                (
                    "check_in",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Check In"
                    ),
                ),
                (
                    "check_out",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Check Out"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PRESENT", "Present"),
                            ("ABSENT", "Absent"),
                            ("LATE", "Late"),
                            ("HALF_DAY", "Half Day"),
                            ("LEAVE", "On Leave"),
                            ("HOLIDAY", "Holiday"),
                            ("WEEKEND", "Weekend"),
                        ],
                        db_index=True,
                        max_length=10,
                        verbose_name="Status",
                    ),
                ),
                (
                    "work_hours",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0")),
                            django.core.validators.MaxValueValidator(Decimal("24")),
                        ],
                        verbose_name="Work Hours",
                    ),
                ),
                (
                    "overtime_hours",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0"))
                        ],
                        verbose_name="Overtime Hours",
                    ),
                ),
                (
                    "work_location",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Work Location"
                    ),
                ),
                (
                    "work_mode",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("OFFICE", "Office"),
                            ("REMOTE", "Remote"),
                            ("HYBRID", "Hybrid"),
                            ("FIELD", "Field Work"),
                        ],
                        max_length=10,
                        verbose_name="Work Mode",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "staff",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance_records",
                        to="hr.staff",
                    ),
                ),
            ],
            options={
                "verbose_name": "Attendance",
                "verbose_name_plural": "Attendance",
                "ordering": ["-date", "staff"],
            },
        ),
        migrations.CreateModel(
            name="StaffDesignation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "is_primary",
                    models.BooleanField(
                        default=False, verbose_name="Is Primary Designation"
                    ),
                ),
                (
                    "start_date",
                    models.DateField(
                        default=django.utils.timezone.now, verbose_name="Start Date"
                    ),
                ),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Is Active"
                    ),
                ),
                (
                    "role_allowance",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=10,
                        verbose_name="Role-Specific Allowance",
                    ),
                ),
                (
                    "assignment_type",
                    models.CharField(
                        choices=[
                            ("PERMANENT", "Permanent Assignment"),
                            ("ACTING", "Acting Role"),
                            ("TEMPORARY", "Temporary Assignment"),
                            ("SECONDMENT", "Secondment"),
                            ("ADDITIONAL", "Additional Responsibility"),
                        ],
                        default="PERMANENT",
                        max_length=20,
                        verbose_name="Assignment Type",
                    ),
                ),
                (
                    "assignment_order_number",
                    models.CharField(
                        blank=True,
                        max_length=50,
                        verbose_name="Assignment Order Number",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "designation",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="hr.designation"
                    ),
                ),
                (
                    "staff",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="hr.staff"
                    ),
                ),
            ],
            options={
                "verbose_name": "Staff Designation",
                "verbose_name_plural": "Staff Designations",
                "ordering": ["staff", "-is_primary", "designation"],
            },
        ),
        migrations.AddField(
            model_name="staff",
            name="designations",
            field=models.ManyToManyField(
                related_name="staff_members",
                through="hr.StaffDesignation",
                through_fields=("staff", "designation"),
                to="hr.designation",
                verbose_name="Designations",
            ),
        ),
        migrations.CreateModel(
            name="Teacher",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "specialization",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Specialization"
                    ),
                ),
                (
                    "teaching_philosophy",
                    models.TextField(blank=True, verbose_name="Teaching Philosophy"),
                ),
                (
                    "max_hours_per_week",
                    models.PositiveIntegerField(
                        default=40,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(60),
                        ],
                        verbose_name="Maximum Teaching Hours Per Week",
                    ),
                ),
                (
                    "current_teaching_load",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="Current Teaching Load (Hours)",
                    ),
                ),
                (
                    "available_days",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Available Days"
                    ),
                ),
                (
                    "preferred_time_slots",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Preferred Time Slots"
                    ),
                ),
                (
                    "is_class_teacher",
                    models.BooleanField(default=False, verbose_name="Is Class Teacher"),
                ),
                (
                    "digital_literacy_level",
                    models.CharField(
                        choices=[
                            ("BASIC", "Basic"),
                            ("INTERMEDIATE", "Intermediate"),
                            ("ADVANCED", "Advanced"),
                            ("EXPERT", "Expert"),
                        ],
                        default="BASIC",
                        max_length=20,
                        verbose_name="Digital Literacy Level",
                    ),
                ),
                (
                    "can_teach_online",
                    models.BooleanField(default=False, verbose_name="Can Teach Online"),
                ),
                (
                    "assigned_classes",
                    models.ManyToManyField(
                        blank=True, related_name="class_teachers", to="academics.class"
                    ),
                ),
                (
                    "preferred_academic_levels",
                    models.ManyToManyField(
                        blank=True,
                        related_name="preferred_teachers",
                        to="academics.academiclevel",
                    ),
                ),
                (
                    "qualified_subjects",
                    models.ManyToManyField(
                        blank=True,
                        related_name="qualified_teachers",
                        to="academics.subject",
                    ),
                ),
                (
                    "staff",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="teacher",
                        to="hr.staff",
                    ),
                ),
            ],
            options={
                "verbose_name": "Teacher",
                "verbose_name_plural": "Teachers",
                "ordering": ["staff__first_name", "staff__last_name"],
            },
        ),
        migrations.CreateModel(
            name="ContractBenefit",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was created (in school's operational timezone)",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        db_index=True,
                        help_text="When this record was last updated (in school's operational timezone)",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "created_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who created this record",
                        max_length=50,
                        null=True,
                        verbose_name="Created By ID",
                    ),
                ),
                (
                    "updated_by_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="ID of user who last updated this record",
                        max_length=50,
                        null=True,
                        verbose_name="Updated By ID",
                    ),
                ),
                (
                    "created_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was created",
                        null=True,
                        verbose_name="Created From IP",
                    ),
                ),
                (
                    "updated_from_ip",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="IP address from which this record was last updated",
                        null=True,
                        verbose_name="Updated From IP",
                    ),
                ),
                (
                    "change_reason",
                    models.CharField(
                        blank=True,
                        help_text="Explanation for why this change was made",
                        max_length=255,
                        null=True,
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "benefit_type",
                    models.CharField(
                        choices=[
                            ("HEALTH_INSURANCE", "Health Insurance"),
                            ("LIFE_INSURANCE", "Life Insurance"),
                            ("PENSION", "Pension/Retirement"),
                            ("VEHICLE", "Company Vehicle"),
                            ("HOUSING", "Housing"),
                            ("EDUCATION", "Education Assistance"),
                            ("GYM", "Gym Membership"),
                            ("MEAL", "Meal Allowance"),
                            ("TRANSPORT", "Transport Allowance"),
                            ("PHONE", "Phone/Communication"),
                            ("OTHER", "Other Benefit"),
                        ],
                        db_index=True,
                        max_length=20,
                        verbose_name="Benefit Type",
                    ),
                ),
                (
                    "description",
                    models.CharField(max_length=200, verbose_name="Description"),
                ),
                (
                    "monetary_value",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated monetary value of benefit",
                        max_digits=15,
                        null=True,
                        verbose_name="Monetary Value",
                    ),
                ),
                (
                    "coverage_details",
                    models.TextField(blank=True, verbose_name="Coverage Details"),
                ),
                (
                    "provider",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Provider"
                    ),
                ),
                (
                    "policy_number",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Policy Number"
                    ),
                ),
                ("start_date", models.DateField(verbose_name="Start Date")),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Is Active"
                    ),
                ),
                (
                    "contract",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="benefits",
                        to="hr.contract",
                    ),
                ),
            ],
            options={
                "verbose_name": "Contract Benefit",
                "verbose_name_plural": "Contract Benefits",
                "ordering": ["contract", "benefit_type"],
                "indexes": [
                    models.Index(
                        fields=["contract", "is_active"],
                        name="hr_contract_contrac_54b784_idx",
                    ),
                    models.Index(
                        fields=["benefit_type"], name="hr_contract_benefit_da9745_idx"
                    ),
                ],
            },
        ),
        migrations.AddIndex(
            model_name="department",
            index=models.Index(fields=["code"], name="hr_departme_code_d27daf_idx"),
        ),
        migrations.AddIndex(
            model_name="department",
            index=models.Index(
                fields=["department_type"], name="hr_departme_departm_3dfb09_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="department",
            index=models.Index(
                fields=["is_active"], name="hr_departme_is_acti_b443d7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="designation",
            index=models.Index(fields=["code"], name="hr_designat_code_97642c_idx"),
        ),
        migrations.AddIndex(
            model_name="designation",
            index=models.Index(
                fields=["department"], name="hr_designat_departm_ca9efa_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="designation",
            index=models.Index(
                fields=["is_active"], name="hr_designat_is_acti_f3e58a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="designation",
            index=models.Index(
                fields=["rank_order"], name="hr_designat_rank_or_b76184_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="salaryhistory",
            index=models.Index(
                fields=["staff", "effective_period"],
                name="hr_salaryhi_staff_i_000c16_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="salaryhistory",
            index=models.Index(
                fields=["effective_date"], name="hr_salaryhi_effecti_586d98_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="salaryhistory",
            index=models.Index(
                fields=["change_type"], name="hr_salaryhi_change__d71b4a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="payroll",
            index=models.Index(
                fields=["staff", "period"], name="hr_payroll_staff_i_17a7b2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="payroll",
            index=models.Index(
                fields=["payment_date"], name="hr_payroll_payment_60be27_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="payroll",
            index=models.Index(fields=["status"], name="hr_payroll_status_fd827d_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="payroll",
            unique_together={("staff", "period")},
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(
                fields=["contract_number"], name="hr_contract_contrac_554672_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(
                fields=["staff", "status"], name="hr_contract_staff_i_ea7740_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(
                fields=["contract_type"], name="hr_contract_contrac_35b969_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(fields=["status"], name="hr_contract_status_f35c72_idx"),
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(
                fields=["start_date", "end_date"], name="hr_contract_start_d_6ecd31_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="contract",
            index=models.Index(
                fields=["staff", "contract_type"], name="hr_contract_staff_i_9be564_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="attendance",
            index=models.Index(
                fields=["staff", "date"], name="hr_attendan_staff_i_c57ff0_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="attendance",
            index=models.Index(fields=["status"], name="hr_attendan_status_44ddfc_idx"),
        ),
        migrations.AddIndex(
            model_name="attendance",
            index=models.Index(fields=["date"], name="hr_attendan_date_3a46d7_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="attendance",
            unique_together={("staff", "date")},
        ),
        migrations.AddIndex(
            model_name="staffdesignation",
            index=models.Index(
                fields=["staff", "is_primary"], name="hr_staffdes_staff_i_cbf712_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="staffdesignation",
            index=models.Index(
                fields=["designation", "is_active"],
                name="hr_staffdes_designa_a95151_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="staff",
            index=models.Index(fields=["staff_id"], name="hr_staff_staff_i_a8b1f1_idx"),
        ),
        migrations.AddIndex(
            model_name="staff",
            index=models.Index(
                fields=["first_name", "last_name"], name="hr_staff_first_n_0c3bf9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="staff",
            index=models.Index(
                fields=["is_active"], name="hr_staff_is_acti_adb4d9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="staff",
            index=models.Index(
                fields=["employment_status"], name="hr_staff_employm_8ffaef_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="staff",
            index=models.Index(
                fields=["date_of_joining"], name="hr_staff_date_of_4eb808_idx"
            ),
        ),
    ]
